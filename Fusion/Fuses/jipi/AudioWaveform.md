
# Audio Waveform Fuse by JiPi

![Screen Shot 02-15-23 at 11 03 PM](https://user-images.githubusercontent.com/78935215/219181767-2f73ac6c-aa53-4a4f-85bf-c588596f9403.PNG)


The AudioWaveform.fuse is intended for visualizing audio data in Fusion. There are three functions:
1) Waveform of a wav file
2) Spectrum of a Wav file
3) Spectrum output via an additional output for shader fuses

For the first two functions there is still the possibility to generate one or three value(s) (elongation), which can be used via "Connect to" for parameters in other nodes.

By default, the fuse works in function 1 (waveform display)
To switch to 2, you have to switch to the Spectrum Page and select the Spectrum check mark there (this will lock some parameters on the Control page).
Function 3 is switched on via the "Shadertoy Audio" checkbox in the Control page, which automatically switches to the spectrum calculation. If you switch off the spectrum checkbox, the shadertoy audio is also switched off.

First, an audio file must be loaded in the Control page via Wave File. Wave files (RIFF WAVE) PCM 16-bit with 44100 Hz and 48000 Hz, mono and stereo are processed. These can easily be generated in Davinci Resolve.
After loading, either the waveform of the loaded file appears at the position of the current frame or an error message.
The following errors are detected and reported:
1) Special characters in the file name (or folder, e.g. ä,ö,ü)
2) File too large (larger than 50 Mb)
3) Unsupported format
4) Unsupported bit depth (e.g. 24 bit)

#Function1: waveform display
The parameters for this are in the Control page.![Screen Shot 02-15-23 at 11 06 PM](https://user-images.githubusercontent.com/78935215/219183697-495170d3-783d-42f3-ad6c-41c4f9d2ec8f.PNG)

The play point is set in the middle of the picture.
There are three parameters for setting the waveform's timing:
1) Proxy 2) Zoom 3) Resolution

1) Proxy: This multiplies the sample pool without increasing the number of pixels shown
2) Zoom: This also multiplies the sample pool, but all values ​​are also displayed (as far as can be displayed)
3) Resolution: Acts as a divisor for the displayable pixels -> Resolution = 2 with HD -> 1920/2

The stereo signal (Both) is generated by maximum formation of the two channels.

There is a setting for the amplitude and 4 different ways to display the envelope. A crosshair can be displayed and the signal can be filtered before it is displayed. There are three filter ranges, low pass (20-300Hz) band pass (300-3kHz) and high pass 3-20kHz)

The waveform/spectrum and crosshair colors can be customized in the Layout page. A background image can also be displayed via the iChannel0 input.

#Function2: Spectrum
![Screen Shot 02-15-23 at 11 06 PM](https://user-images.githubusercontent.com/78935215/219183866-722d148f-2b8e-4132-8214-37b85a743716.PNG)

#Function3: AudioData for shader fuses

#Elongation (connect to function)
![Screen Shot 02-15-23 at 11 13 PM](https://user-images.githubusercontent.com/78935215/219188449-15e1e5ac-68db-4dc0-a0bf-1ab5e6714f05.PNG)


## See also:

- [Fuses by JiPi](README.md)
- [Comps by JiPi](../../Comp/jipi/README.md)
